<!DOCTYPE html>
<html>

<head>
    <title>Оплата LiqPay</title>
    <script src="https://static.liqpay.ua/libjs/checkout.js" async></script>
</head>

<body>

    <h2>Оплатити 1 грн (тест)</h2>
    <button onclick="startPayment()">Оплатити</button>

    <div id="liqpay_checkout"></div>

    <script>
        async function startPayment() {
            const response = await fetch('/create-payment', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' }
            });
            const { data, signature } = await response.json();

            LiqPayCheckout.init({
                data,
                signature,
                embedTo: "#liqpay_checkout",
                mode: "embed"
            }).on("liqpay.callback", function (data) {
                console.log("callback", data);
            }).on("liqpay.ready", function (data) {
                console.log("ready", data);
            }).on("liqpay.close", function (data) {
                console.log("close", data);
            });
        }
    </script>

</body>

</html>